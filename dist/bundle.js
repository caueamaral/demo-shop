(()=>{var e,t;document.querySelectorAll(".js-card-data-bind").forEach((function(e){e.addEventListener("input",(function(){return n(event)})),e.addEventListener("input",(function(){return r(event)}))})),document.querySelector(".js-card-field-name").addEventListener("blur",(function(){event.target.value=event.target.value.trim()})),e=document.querySelector(".js-card"),(t=document.querySelector(".js-card-field-cvv")).addEventListener("focus",(function(){return e.classList.add("flip")})),t.addEventListener("blur",(function(){return e.classList.remove("flip")})),document.querySelectorAll(".js-card-data-bind").forEach((function(e){return e.addEventListener("input",(function(){return l(event)}))})),document.querySelector(".js-form-button").addEventListener("click",(function(){event.preventDefault(),u(),o(),d(),v(),m()})),document.querySelector(".js-form-field-number").addEventListener("input",(function(){f()}));var n=function(){var e=event.target.dataset.bind,t=event.target.value,n=c(t),r="";switch(e){case"number":r=a(n);break;case"name":r=s(t);break;case"validity":r=i(n);break;case"cvv":r=n}"installments"!=e&&(event.target.value=r)},r=function(){var e=event.target.dataset.bind,t=document.querySelector(".js-card-data-bind-target[data-bind=".concat(e,"]")),n=event.target.value,r="";switch(e){case"number":r=a(n);break;case"validity":r=i(n);break;case"name":case"cvv":r=n;break;case"installments":return}t.textContent=r,t.textContent||("number"==e?t.innerHTML='<span class="card-front-numbers-interno">'.concat(t.getAttribute("placeholder"),"</span>"):"cvv"==e?t.innerHTML='<span class="card-back-cvv-interno">'.concat(t.getAttribute("placeholder"),"</span>"):t.textContent=t.getAttribute("placeholder"))},a=function(e){return e.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()},c=function(e){return e.replace(/\D/g,"")},s=function(e){return e.replace(/[^a-zA-Z\s]/g,"").replace("  "," ").trimStart()},i=function(e){var t=e.trim();return!t.includes("/")&&t.length>2?t=t.replace(/(\d{2})/,"$1/"):t.includes("/")&&3==t.length&&(t=t.replace(/\//,"")),t},l=function(e){switch(event.target.dataset.bind){case"number":u();break;case"name":o();break;case"validity":d();break;case"cvv":v();break;case"installments":m()}},u=function(){var e=document.querySelector(".js-form-field-number"),t=e.closest(".js-form-group");19==e.value.length?t.classList.remove("invalid"):t.classList.add("invalid")},o=function(){var e=document.querySelector(".js-form-field-name"),t=e.closest(".js-form-group");/^[a-zA-z]+ [a-zA-Z]+$/.test(e.value)?t.classList.remove("invalid"):t.classList.add("invalid")},d=function(){var e=document.querySelector(".js-form-field-validity"),t=e.closest(".js-form-group");5==e.value.length?t.classList.remove("invalid"):t.classList.add("invalid")},v=function(){var e=document.querySelector(".js-form-field-cvv"),t=e.closest(".js-form-group");e.value.length>2?t.classList.remove("invalid"):t.classList.add("invalid")},m=function(){var e=document.querySelector(".js-form-selection-installments"),t=e.closest(".js-form-group");e.value?t.classList.remove("invalid"):t.classList.add("invalid")},f=function(){var e=event.target.value,t="";if(e.length<2)return b();function n(n,r){r.forEach((function(r){if(e.startsWith(r))return t=n}))}n("visa",["4"]),n("mastercard",["51","52","53","54","55"]),t&&g(t)},b=function(){var e=document.querySelector(".js-card");e.classList.remove("visa"),e.classList.remove("mastercard")},g=function(e){b(),document.querySelector(".js-card").classList.add(e)}})();